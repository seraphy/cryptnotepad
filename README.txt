[暗号化メモ帳プロジェクト]
JDK1.6以降、実行可能jar形式を目指す.

[起動オプション]
システムプロパティ appbase.dir でベースディレクトリを指定可能。省略時は自アプリの位置。

システムプロパティ appdata.dir でアプリケーション設定ファイルの格納先を指定可能。
指定しない場合は、APPDATA環境変数、ユーザホームの順に用いられる。

初回起動時に、アプリケーション設定ファイルの格納先にログフォルダとログ設定ファイルが作成される。
ログ出力レベルは、ログ設定ファイルで調整可能。


[ファイル形式]

保存される暗号化ファイルは、
IV + AES/CBC/PKCS5Padding
で暗号化したもの。
ブロックサイズは128bit.


復号化されたデータは、先頭にヘッダがあり、ヘッダ終了を示す行頭改行につづいてボディとなる。
ヘッダは、
Content-Type: text/plain;charset=UTF-8\r\n
Content-Length: nnn\r\n
\r\n
のような形式となっている。


暗号化キーは、
PBKDF2WithHmacSHA1
でパスフレーズとソルトから計算したものを
AES用の対称暗号化キー(128bit)に変換したもの.

パスフレーズは画面から入力されるパスワードテキスト.

ソルトは、任意のファイル(キーファイル)のコンテンツをSHA-512でダイジェストをとったもの.
キーファイルの指定がない場合はソルトは埋め込みの固定値を用いる.(単にレインボー攻撃を避けるだけ.)
キーファイルはローカルマシンのほか、http/https上にあっても良い.
(proxyはシステムのデフォルトを用いる.)
